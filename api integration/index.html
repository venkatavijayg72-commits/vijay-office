<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Todo App </title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Segoe UI", sans-serif;
}

body {
  min-height: 100vh;
  background: linear-gradient(135deg, #43cea2, #ef9c20);
  display: flex;
  flex-direction: column;
  color: #333;
}

/* ---------- HEADER ---------- */
header {
  text-align: center;
  padding: 25px;
  color: #fff;
  animation: slideDown 1s ease;
}

header h1 {
  font-size: 2.3rem;
}

/* ---------- MAIN ---------- */
main {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.todo-container {
  background: #922b67;
  width: 100%;
  max-width: 460px;
  padding: 30px;
  border-radius: 18px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.25);
  animation: fadeUp 1s ease;
}

/* ---------- INPUT ---------- */
.todo-input {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.todo-input input {
  flex: 1;
  padding: 12px;
  border-radius: 8px;
  border: 2px solid #ddd;
  transition: 0.3s;
}

.todo-input input:focus {
  border-color: #185a9d;
  box-shadow: 0 0 10px rgba(24,90,157,0.4);
  outline: none;
}

.todo-input button {
  padding: 12px 16px;
  border: none;
  border-radius: 8px;
  background: #185a9d;
  color: #fff;
  cursor: pointer;
  transition: transform 0.3s, background 0.3s;
}

.todo-input button:hover {
  transform: scale(1.05);
  background: #0f3c6e;
}

/* ---------- LIST ---------- */
ul {
  list-style: none;
}

li {
  background: #f2f6fc;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  animation: taskIn 0.4s ease;
  transition: 0.3s;
}

li.completed span {
  text-decoration: line-through;
  opacity: 0.6;
}

li:hover {
  transform: translateX(5px);
}

.actions {
  display: flex;
  gap: 6px;
}

.actions button {
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  transition: 0.3s;
}

.complete { background: #2ecc71; color: #fff; }
.edit { background: #f1c40f; }
.delete { background: #e74c3c; color: #fff; }

.actions button:hover {
  transform: scale(1.1);
}

/* ---------- FOOTER ---------- */
footer {
  text-align: center;
  padding: 15px;
  color: #fff;
  font-size: 14px;
}

/* ---------- ANIMATIONS ---------- */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-40px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes taskIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
</style>
</head>

<body>

<header>
  <h1>Todo App</h1>
  <p>Plan • Focus • Complete</p>
</header>

<main>
  <div class="todo-container">
    <div class="todo-input">
      <input type="text" id="taskInput" placeholder="Add new task">
      <button id="addBtn">Add</button>
    </div>
    <ul id="taskList"></ul>
  </div>
</main>

<footer>
  © 2026 Todo App
</footer>

<script>
const taskInput = document.getElementById("taskInput");
const addBtn = document.getElementById("addBtn");
const taskList = document.getElementById("taskList");

let todos = [];

/* ---------- LOCALSTORAGE ---------- */
function saveTodos() {
  localStorage.setItem("todos", JSON.stringify(todos));
}

function loadTodos() {
  const stored = localStorage.getItem("todos");
  if (stored) {
    todos = JSON.parse(stored);
    renderTodos();
  } else {
    fetchTodos();
  }
}

/* ---------- FETCH API ---------- */
function fetchTodos() {
  fetch("https://jsonplaceholder.typicode.com/todos?_limit=4")
    .then(res => res.json())
    .then(data => {
      todos = data.map(todo => ({
        id: Date.now() + Math.random(),
        title: todo.title,
        completed: todo.completed
      }));
      saveTodos();
      renderTodos();
    });
}

/* ---------- RENDER ---------- */
function renderTodos() {
  taskList.innerHTML = "";
  todos.forEach(todo => {
    const li = document.createElement("li");
    if (todo.completed) li.classList.add("completed");

    const span = document.createElement("span");
    span.textContent = todo.title;

    const actions = document.createElement("div");
    actions.className = "actions";

    const completeBtn = document.createElement("button");
    completeBtn.textContent = "✓";
    completeBtn.className = "complete";
    completeBtn.onclick = () => toggleComplete(todo.id);

    const editBtn = document.createElement("button");
    editBtn.textContent = "Edit";
    editBtn.className = "edit";
    editBtn.onclick = () => editTodo(todo.id);

    const deleteBtn = document.createElement("button");
    deleteBtn.textContent = "Del";
    deleteBtn.className = "delete";
    deleteBtn.onclick = () => deleteTodo(todo.id);

    actions.append(completeBtn, editBtn, deleteBtn);
    li.append(span, actions);
    taskList.appendChild(li);
  });
}

function addTodo() {
  const text = taskInput.value.trim();
  if (!text) return alert("Enter a task");

  todos.push({
    id: Date.now(),
    title: text,
    completed: false
  });

  saveTodos();
  renderTodos();
  taskInput.value = "";
}

function toggleComplete(id) {
  todos = todos.map(t =>
    t.id === id ? { ...t, completed: !t.completed } : t
  );
  saveTodos();
  renderTodos();
}

function editTodo(id) {
  const todo = todos.find(t => t.id === id);
  const newText = prompt("Edit task", todo.title);
  if (newText) {
    todo.title = newText;
    saveTodos();
    renderTodos();
  }
}

function deleteTodo(id) {
  todos = todos.filter(t => t.id !== id);
  saveTodos();
  renderTodos();
}

/* ---------- EVENTS ---------- */
addBtn.addEventListener("click", addTodo);
taskInput.addEventListener("keypress", e => {
  if (e.key === "Enter") addTodo();
});

/* ---------- INIT ---------- */
loadTodos();
</script>

</body>
</html>
